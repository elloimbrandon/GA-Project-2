<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>state</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <nav class="navbar sticky-top navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">Trail Blazer</a>
    </div>
  </nav>
  <!-- ////////////////////////// -->
  <!-- checks to see if there are any trails left in the current state -->
  <!-- if there is than it will work like normal. If not it will say there are no trails in that state -->
  <% let currentState = "" %> <% for (let i=0; i < trails.length; i++) { %>
  <%currentState = trails[i].state%> <% } %> <% if (currentState === "") { %>
  <h1>Cannot find trails in <%=state%>... Sorry</h1>
  <% } else { %>
  <div class="flex-header-content">
    <h1 style="text-decoration: 2px underline" class="display-4">
      Trails in <%=state%>
    </h1>
  </div>
  <% } %>
  <!-- //////////////////////////// -->

  <div class="flex-main-show-container">
    <% for (let i=0; i < trails.length; i++) { %>
    <div class="flex-main-show-container-row">
      <div class="flex-main-show-container-column">
        <img
          class="flex-trail-image"
          src="<%=trails[i].image%>"
          alt="<%=trails[i].name%>"
        />
        <div class="flex-main-show-button-container-row">
          <form action="/<%=trails[i].id%>?_method=DELETE" method="POST">
            <input
              style="color: white"
              class="btn"
              type="submit"
              value="Delete Trail"
            />
          </form>
          <!-- edit trail in this state -->
          <button
            style="color: white"
            class="btn"
            type="button"
            onclick="location.href='/<%=trails[i].id%>/edit'"
          >
            Edit Trail
          </button>
        </div>
      </div>
      <div class="flex-trail-description-container">
        <p class="flex-trail-description-text">
          Trail Name: <%=trails[i].name%> <br />
          City: <%=trails[i].city%> <br />
          Length In Miles: <%=trails[i].miles%> <br />
          Description: <%=trails[i].description%>
        </p>
      </div>
      <!-- //////////////////////// -->
    </div>
    <% } %>
    <!-- button to add a new trail for that state -->
    <div class="flex-main-show-container-add">
      <button
        class="btn btn-success add-button"
        type="button"
        onclick="location.href='/<%=state%>/new'"
      >
        Add a new trail for <%=state%>!
      </button>
    </div>
    <!-- //////////////////////////// -->
  </div>
</html>
<!-- graveyard -->
<!-- <img src="<%#trails[i].image%>" alt="<%#=trails[i].name%>" /> -->
