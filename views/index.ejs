<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Trail Blazer</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <nav class="nav-bar-border navbar sticky-top navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand trail-description-text" href="/">Trail Blazer</a>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a
              class="nav-link active trail-description-text"
              aria-current="page"
              href="/"
              >Home</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- <body> -->
  <div class="flex-main-index-container">
    <!-- jumbotron -->
    <div class="flex-header-content">
      <h1 style="text-decoration: 2px underline"class="display-4">Trail Blazer</h1>
      <div class="flex-app-description">
        <h5>
          Trail Blazer is a simple web app that allows people to view different
          hikes in their state and edit or make changes to them. Also, the
          option of states as well as hikes they find on their own! Enjoy.
        <h5>
      </div>
      <!-- Search bar -->
      <div class="flex-search-bar">
        <form class="d-flex" autocomplete="off" action="/" method="GET">
          <input
            class="form-control me-2"
            type="text"
            name="search"
            placeholder="Search for a state.. ex. Arizona"
          />
          <input
            id="search-button-submit"
            class="btn add-button"
            type="submit"
            value="Search"
          />
        </form>
      </div>
    </div>
    <!-- ////////////////////// -->
    <!-- checks if no search result was found -->
    <div class="flex-no-state">
      <% if (noSearchMatch !== undefined) { %>
      <h1 class="display-4"><%=noSearchMatch%></h1>
      <% } %>
    </div>
    <!-- ///////////////////// -->
    <div class="flex-states-container-row">
      <% for (let i=0; i < states.length; i++) { %>
      <div class="flex-states-container-column">
        <a class="state-anchor" href="/<%=states[i].state;%>"
          ><%=states[i].state;%></a
        >
        <div class="flex-states-container-column-image-container">
          <a href="/<%=states[i].state;%>">
            <img
              class="flex-index-image"
              src="<%=states[i].image%>"
              alt="<%=states[i].state%>"
            />
          </a>
          <% if (states[i].id) { %>
          <div>
            <form
              action="/<%=states[i].id%>/<%=states[i].state%>/?_method=DELETE"
              method="POST"
            >
              <input
                class="btn delete-btn-index"
                type="submit"
                value="Delete"
              />
            </form>
          </div>
          <% } %>
        </div>
      </div>
      <% } %>
    </div>
    <div class="flex-states-container-column-image-container">
      <div class="flex-add-state">
        <a class="add-state-text" href="/new-state">Add State</a>
      </div>
    </div>
  </div>
</html>
